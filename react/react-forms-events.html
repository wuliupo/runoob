<h1>React 表单与事件</h1>
<p>本章节我们将讨论如何在 React 中使用表单。</p>
<h3>一个简单是实例</h3>
<p>在实例中我们设置了输入框 input 值<b>value = {this.state.data}</b>。在输入框值发生变化时我们可以更新 state。我们可以使用 <b>onChange</b> 事件来监听 input 的变化，并修改 state。</p>
<pre>
var HelloMessage = React.createClass({
  getInitialState: function() {
    return {value: 'Hello Runoob!'};
  },
  handleChange: function(event) {
    this.setState({value: event.target.value});
  },
  render: function() {
    var value = this.state.value;
    return &lt;div&gt;
            &lt;input type="text" value={value} onChange={this.handleChange} /&gt;
            &lt;h4&gt;{value}&lt;/h4&gt;
           &lt;/div&gt;;
  }
});
ReactDOM.render(
  &lt;HelloMessage /&gt;,
  document.getElementById('example')
);
</pre>
<p><a class="tryitbtn" href="/try/try.php?filename=try_react_form" target="_blank">尝试一下 »</a></p>
<p>
上面的代码将渲染出一个值为 Hello Runoob! 的 input 元素，并通过 onChange 事件响应更新用户输入的值。</p>
<h3>实例 2</h3>
<p>在以下实例中我么将为大家演示如何在子组件上使用表单。
<b>onChange</b> 方法将触发 state 的更新并将更新的值传递到子组件的输入框的 <b>value</b> 上来重新渲染界面。</p>
<p>你需要在父组件通过创建事件句柄 (<b>handleChange</b>) ，并作为 prop (<b>updateStateProp</b>) 传递到你的子组件上。</p>
<pre>
var Content = React.createClass({
  render: function() {
    return  &lt;div&gt;
            &lt;input type="text" value={this.props.myDataProp} onChange={this.props.updateStateProp} /&gt;
            &lt;h4&gt;{this.props.myDataProp}&lt;/h4&gt;
            &lt;/div&gt;;
  }
});
var HelloMessage = React.createClass({
  getInitialState: function() {
    return {value: 'Hello Runoob!'};
  },
  handleChange: function(event) {
    this.setState({value: event.target.value});
  },
  render: function() {
    var value = this.state.value;
    return &lt;div&gt;
            &lt;Content myDataProp = {value}
              updateStateProp = {this.handleChange}&gt;&lt;/Content&gt;
           &lt;/div&gt;;
  }
});
ReactDOM.render(
  &lt;HelloMessage /&gt;,
  document.getElementById('example')
);
</pre>
<p><a class="tryitbtn" href="/try/try.php?filename=try_react_form2" target="_blank">尝试一下 »</a></p>
<hr>
<h2>React 事件</h2>
<p>以下实例演示通过 onClick 事件来修改数据：</p>
<pre>
var HelloMessage = React.createClass({
  getInitialState: function() {
    return {value: 'Hello Runoob!'};
  },
  handleChange: function(event) {
    this.setState({value: '菜鸟教程'})
  },
  render: function() {
    var value = this.state.value;
    return &lt;div&gt;
            &lt;button onClick={this.handleChange}&gt;点我&lt;/button&gt;
            &lt;h4&gt;{value}&lt;/h4&gt;
           &lt;/div&gt;;
  }
});
ReactDOM.render(
  &lt;HelloMessage /&gt;,
  document.getElementById('example')
);
</pre>
<p><a class="tryitbtn" href="/try/try.php?filename=try_react_click" target="_blank">尝试一下 »</a></p>


<p>当你需要从子组件中更新父组件的 <b>state</b> 时，你需要在父组件通过创建事件句柄 (<b>handleChange</b>) ，并作为 prop (<b>updateStateProp</b>) 传递到你的子组件上。实例如下：</p>
<pre>
var Content = React.createClass({
  render: function() {
    return  &lt;div&gt;
              &lt;button onClick = {this.props.updateStateProp}&gt;点我&lt;/button&gt;
              &lt;h4&gt;{this.props.myDataProp}&lt;/h4&gt;
           &lt;/div&gt;
  }
});
var HelloMessage = React.createClass({
  getInitialState: function() {
    return {value: 'Hello Runoob!'};
  },
  handleChange: function(event) {
    this.setState({value: '菜鸟教程'})
  },
  render: function() {
    var value = this.state.value;
    return &lt;div&gt;
            &lt;Content myDataProp = {value}
              updateStateProp = {this.handleChange}&gt;&lt;/Content&gt;
           &lt;/div&gt;;
  }
});
ReactDOM.render(
  &lt;HelloMessage /&gt;,
  document.getElementById('example')
);
</pre>
<p><a class="tryitbtn" href="/try/try.php?filename=try_react_click2" target="_blank">尝试一下 »</a></p>